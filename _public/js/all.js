"use strict";function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(r,!0).forEach(function(t){_defineProperty(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function _defineProperty(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var a=e[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}!function(){function e(){var t=document.querySelector(".js-topnav-mobile-nav").parentNode;"topnav-mobile-nav"===t.className?t.className+=" responsive":t.className="topnav-mobile-nav"}document.querySelectorAll(".js-topnav-mobile-nav-mobile-toggle").forEach(function(t){t.addEventListener("click",e)}),document.querySelectorAll(".js-topnav-mobile-nav-mobile-toggle-share").forEach(function(t){t.addEventListener("click",function(t){var e;"topnav-mobile-nav-share"===(e=document.querySelector(".js-topnav-mobile-nav-share").parentNode).className?e.className+=" responsive":e.className="topnav-mobile-nav-share",t.preventDefault()},!1)})}(),function(){var t,e=document.getElementsByClassName("accordion");for(t=0;t<e.length;t++)e[t].addEventListener("click",function(){this.classList.toggle("active-panel");var t=this.nextElementSibling;"block"===t.style.display?t.style.display="none":t.style.display="block"})}();var cartBtn=document.querySelector(".cart-btn"),closeCartBtn=document.querySelector(".close-cart"),clearCartBtn=document.querySelector(".clear-cart"),cartDOM=document.querySelector(".cart"),cartOverlay=document.querySelector(".cart-overlay"),cartItems=document.querySelector(".cart-items"),cartTotal=document.querySelector(".cart-total"),cartContent=document.querySelector(".cart-content"),cartImoji=document.querySelector(".cart-imoji"),cart=[],buttonsDOM=[],imoji=cartImoji.firstChild,Products=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"getProducts",value:function(){var t=_toConsumableArray(document.querySelectorAll(".bag-btn"));return t=t.map(function(t){var e=t.dataset;return{itemId:e.itemId,itemPrice:e.itemPrice,itemFiveStarPrice:e.itemFiveStarPrice,itemThreeStarPrice:e.itemThreeStarPrice,itemCampBasic:e.itemCampBasic,itemName:e.itemName,itemImage:e.itemImage,itemDescription:e.itemDescription,itemLocation:e.itemLocation,itemUrl:e.itemUrl}})}}]),t}(),UI=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"getButtons",value:function(){var a=this,t=_toConsumableArray(document.querySelectorAll(".bag-btn"));(buttonsDOM=t).forEach(function(t){var r=t.dataset.itemId;cart.find(function(t){return t.itemId===r})&&(t.innerText="üëç IN BUCKET!",t.disabled=!0),t.addEventListener("click",function(t){t.target.innerText="üëç IN BUCKET!",t.target.disabled=!0;var e=_objectSpread({},Storage.getProduct(r),{amount:1});cart=[].concat(_toConsumableArray(cart),[e]),Storage.saveCart(cart),a.setCartValues(cart),a.addCartItem(e),a.showCart()})})}},{key:"setCartValues",value:function(t){var e=0;t.map(function(t){e+=t.amount}),cartItems.innerText=e,cartTotal.innerText=e,imoji.textContent=0==e?"üëé":"üëç"}},{key:"addCartItem",value:function(t){var e=document.createElement("fieldset");e.classList.add("cart-item"),e.innerHTML='\n\n\t\t\t\t<label for="package">\n\t\t\t\t\t<h3 class="article-title flex"> <small class="best-price"> üè∑Ô∏è<mark>$'.concat(t.itemPrice,"</mark></small> ").concat(t.itemName,'  <span class="lc-adress"><b><small>üì¢ place </small> <span class="place tilt-lft"><a class="place-link" href="#"> <mark> ').concat(t.itemLocation,' Ô∏è</mark></a> </b> </span> </span> </h3>\n\t\t\t\t</label>\n\n\t\t\t\t<div class="flex flex-btn modal-form-label form-col-2">\n\t\t\t\t\t<label for="duration"> Duration\n\t\t\t\t\t\t<span><br> <input form="form1" type="text"  name="important_note" placeholder="2-nights / daytrip" required> </span>\n\t\t\t\t\t</label>\n\t\t\t\t\n\t\t\t\t\t<label for="accomodation-options"> Accomodation Options\n\t\t\t\t\t<span>  <br> <input form="form1" type="checkbox"  name="accomodation-options">Five Star üåü ( ').concat(t.itemFiveStarPrice,') </input> <br> <input type="checkbox"  name="accomodation-options" > 3-4 Star ‚≠ê ( ').concat(t.itemThreeStarPrice,' )</input> <br> <input type="checkbox"  name="accomodation-options" > I will Camp ‚õ∫ ( ').concat(t.itemCampBasic,')  </input>  </span>\n\t\t\t\t\t</label>\n\t\t\t\t\n\t\t\t\t</div>\n\t\t\t\t<span class="remove-item" data-id=').concat(t.itemId,"> remove </span>\n\t\t\t\t\t\n\t\t\t"),cartContent.prepend(e)}},{key:"showCart",value:function(){cartOverlay.classList.add("transparentBcg"),cartDOM.classList.add("showCart")}},{key:"setupApp",value:function(){cart=Storage.getCart(),this.setCartValues(cart),this.populateCart(cart),cartBtn.addEventListener("click",this.showCart),closeCartBtn.addEventListener("click",this.hideCart)}},{key:"populateCart",value:function(t){var e=this;t.forEach(function(t){return e.addCartItem(t)})}},{key:"hideCart",value:function(){cartOverlay.classList.remove("transparentBcg"),cartDOM.classList.remove("showCart")}},{key:"cartLogic",value:function(){var a=this;clearCartBtn.addEventListener("click",function(){a.clearCart()}),cartContent.addEventListener("click",function(t){if(t.target.classList.contains("remove-item")){var e=t.target,r=e.dataset.id;cartContent.removeChild(e.parentNode),a.removeItem(r)}})}},{key:"clearCart",value:function(){var e=this;cart.map(function(t){return t.itemId}).forEach(function(t){for(e.removeItem(t);0<cartContent.children.length;)cartContent.removeChild(cartContent.children[0])}),this.hideCart()}},{key:"removeItem",value:function(e){cart=cart.filter(function(t){return t.itemId!==e}),this.setCartValues(cart),Storage.saveCart(cart);var t=this.getSingleButton(e);t.disabled=!1,t.innerText="ADD TO BUCKET"}},{key:"getSingleButton",value:function(e){return buttonsDOM.find(function(t){return t.dataset.itemId===e})}}]),t}(),Storage=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"saveProducts",value:function(t){localStorage.setItem("products",JSON.stringify(t))}},{key:"getProduct",value:function(e){return JSON.parse(localStorage.getItem("products")).find(function(t){return t.itemId===e})}},{key:"saveCart",value:function(t){localStorage.setItem("cart",JSON.stringify(t))}},{key:"getCart",value:function(){return localStorage.getItem("cart")?JSON.parse(localStorage.getItem("cart")):[]}}]),t}();document.addEventListener("DOMContentLoaded",function(){var t=new UI,e=new Products;t.setupApp(),t.getButtons(),e.getProducts(),Storage.saveProducts(e.getProducts()),t.cartLogic()}),function(){var r,e=[],a={val:""},n={val:""};function o(t){switch((r=t).setAttribute("class","slide slide_current"),t){case e[0]:a.val=e[e.length-1],n.val=t.nextElementSibling;break;case e[e.length-1]:a.val=t.previousElementSibling,n.val=e[0];break;default:a.val=t.previousElementSibling,n.val=t.nextElementSibling}a.val.setAttribute("class","slide slide_next-left"),n.val.setAttribute("class","slide slide_next-right")}window.addEventListener("load",function(){new Promise(function(t){o((e=document.querySelectorAll(".slide"))[0]),t()}).then(function(){[{element:document.querySelector(".arrow.arrow_prev"),curImgTempClassname:"slide_prev-left",newImgTempClassname:"slide_current-right",newImg:n,unusedImg:a},{element:document.querySelector(".arrow.arrow_next"),curImgTempClassname:"slide_prev-right",newImgTempClassname:"slide_current-left",newImg:a,unusedImg:n}].forEach(function(e){e.element.addEventListener("click",function(){var t;t=e,document.querySelectorAll(".arrow").forEach(function(t){t.classList.add("arrow_disabled")}),r.classList.add(t.curImgTempClassname),t.newImg.val.classList.add(t.newImgTempClassname),setTimeout(function(){r.classList="",t.unusedImg.val.setAttribute("class","slide"),o(t.newImg.val),document.querySelectorAll(".arrow").forEach(function(t){t.classList.remove("arrow_disabled")})},500)})})})})}();
//# sourceMappingURL=all.js.map
